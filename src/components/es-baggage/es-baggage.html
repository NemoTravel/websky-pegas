<!-- item__i -->
<div class="item__i mobileHide" style="display: none; margin-bottom: 20px;">
  <!-- top -->
  <div class="top">

    <!-- icon -->
    <div class="icon" ng-class="{ not: (!vm.service.editablePrice && !vm.service.active) }">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 214 212" width="42" height="35">
        <path d="M107.33,0a53.05,53.05,0,0,0-53,52H54v1h0V212H160V52h.31A53.06,53.06,0,0,0,107.33,0Zm0,25a28,28,0,0,1,28,27H79.36A28,28,0,0,1,107.33,25Z"/>
        <path d="M0,67.25v130C0,205.52,6.92,212,15.33,212H31V52H15.33A15.43,15.43,0,0,0,0,67.25Z"/>
        <path d="M199.33,52H183V212h16.33A14.44,14.44,0,0,0,214,197.25v-130C214,58.84,207.6,52,199.33,52Z"/>
      </svg>
    </div>
    <!-- END icon -->

    <!-- name -->
    <div class="name">
      <h2 class="name__heading">
        {{ 'web.extraServices.baggage.header' | aliasStatic}}

        <span class="name__min-price" ng-if="vm.service.minPrice">
          {{ 'web.extraServices.minPrice' | aliasStatic}}
          <span ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></span>
        </span>
      </h2>

      <p class="name__description">
        {{ 'web.extraServices.baggage.desc' | aliasStatic}}
      </p>
    </div>
    <!-- END name -->

    <!-- info -->
    <div class="info" ng-if="vm.service.editablePrice">
      <a class="info__close-icon" ng-if="!vm.service.active" ng-click="vm.removePassengerFlightMeal(vm.selectedPassenger, vm.selectedFlight)">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewBox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="/></g></g></svg>
      </a>
      <span class="info__text">{{ 'web.extraServices.meal.totalToPay' | aliasStatic}}</span> <span ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"> </span>
    </div>
    <!-- END info -->

    <!-- buttons -->
    <div class="buttons">
      <a href="" class="toggle" ng-if="vm.service.active || vm.service.editablePrice" ng-click="vm.service.active = !vm.service.active" ng-class="{ open: vm.service.active}">
        <span class="show">
          {{ 'web.extraServices.meal.show' | aliasStatic}}
        </span>
        <span class="hide">
          {{ 'web.extraServices.meal.hide' | aliasStatic}}
        </span>
      </a>

      <a href="" class="btn" ng-click="vm.switchService()" ng-if="!vm.service.active && !vm.service.editablePrice">
        <!-- {{ 'web.extraServices.meal.selectedFood' | aliasStatic}} -->
        Добавить багаж
      </a>

      <a href="" class="btn done" ng-click="vm.switchService()" ng-if="!vm.service.active && vm.service.editablePrice">
        <span class="btn__icon">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 28 24" version="1.1" width="15px" height="12px">
            <g>
              <path d="M 22.566406 4.730469 L 20.773438 3.511719 C 20.277344 3.175781 19.597656 3.304688 19.265625 3.796875 L 10.476563 16.757813 L 6.4375 12.71875 C 6.015625 12.296875 5.328125 12.296875 4.90625 12.71875 L 3.371094 14.253906 C 2.949219 14.675781 2.949219 15.363281 3.371094 15.789063 L 9.582031 22 C 9.929688 22.347656 10.476563 22.613281 10.96875 22.613281 C 11.460938 22.613281 11.957031 22.304688 12.277344 21.839844 L 22.855469 6.234375 C 23.191406 5.742188 23.0625 5.066406 22.566406 4.730469 Z "/>
            </g>
          </svg>
        </span>
        {{ 'web.extraServices.meal.picked' | aliasStatic}}
      </a>

    </div>
    <!-- END buttons -->
  </div>
  <!-- END top -->

  <!-- drop -->
  <div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }">
    <div class="drop__i">
      <!-- route -->
      <div class="route">

        <div class="route__flights-panel">
          <div class="route__title">
            Выбор питания на рейсе
          </div>

          <div class="route__buttons">
            <a ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights"
               ng-click="vm.service.availableBySegments[flightNum] && vm.selectRoutePartPassenger(flightNum, 0)"
               ng-class="{ active: vm.selectedRoutePartNum == flightNum && vm.service.availableBySegments[flightNum] }"
               ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" href="">
              {{ flight.origincityName }}
            </a>
          </div>
        </div>

        <div class="route__cancel">
          <a href="" class="route__link-cancel" ng-click="vm.switchService()">
            <!-- Сделать с помощью after -->
            <span class="route__icon-cancel">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewBox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="/></g></g></svg>
            </span>
            <span>
              {{ 'web.extraServices.meal.cancelService' | aliasStatic }}
            </span>
          </a>
        </div>
      </div>
      <!-- END route -->

      <!-- flightsInfo -->
      <div class="flightsInfo">

        <div class="flightsInfo__way">
          <div class="flightsInfo__title">
            <span ng-if="vm.orderInfo.header.regnum">
                {{ vm.orderInfo.header.regnum }}
            </span>
          </div>

          <!-- flightsInfo__wrap -->
          <div class="flightsInfo__wrap">
            <div ng-repeat="(segNum, segment) in vm.orderInfo.flights" class="flightsInfo__segments">
              <div ng-repeat="(flightNum, flight) in segment.flights"
                   ng-if="vm.selectedRoutePartNum == segNum">

                <div class="flightsInfo__segment">
                  <div class="flightsInfo__city">
                    <span class="flightsInfo__city-name">
                      {{ flight.origincityName }}
                    </span>
                    <span class="flightsInfo__city-code">
                      {{ flight.originport }}
                    </span>
                  </div>
                  <div class="flightsInfo__date">
                    в {{ flight.departuredate | formatDate: 'D MMM, dd' }} {{ flight.departuretime }}
                  </div>
                </div>

                <div class="flightsInfo__segment">
                  <div class="flightsInfo__city">
                    <span class="flightsInfo__city-name">
                      {{ flight.destinationcityName }}
                    </span>
                    <span class="flightsInfo__city-code">
                      {{ flight.destinationport }}
                    </span>
                  </div>
                  <div class="flightsInfo__date">
                    в {{ flight.arrivaldate | formatDate: 'D MMM, dd' }} {{ flight.arrivaltime }}
                  </div>
                </div>

              </div>
            </div>
          </div>
          <!-- END flightsInfo__wrap  -->

        </div>

      </div>
      <!-- END flightsInfo-->

      <div class="baggage">
        <!-- passengers -->
        <div class="passengers">
          <div ng-repeat="(routePartNum, routePart) in vm.service.routeParts"
               ng-if="vm.service.availableBySegments[routePartNum] && vm.selectedRoutePartNum == routePartNum">

              <div ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">

                   <!-- passenger -->
                   <div class="passenger"
                        ng-if="passenger.hasSeats">

                     <!-- name-passenger -->
                     <div class="passenger__name"
                          ng-click="vm.selectRoutePartPassenger(routePartNum, passengerNum)"
                          ng-class=" { focus: passengerNum === vm.selectedPassenger } ">
                       {{ passenger.lastName }} {{ passenger.firstName }}
                     </div>
                     <!-- end name-passenger -->

                     <!-- meal-passenger -->

                     <!-- end meal-passenger -->

                   </div>
                   <!-- END passenger -->

              </div>

          </div>
        </div>
        <!-- END passengers -->

        <!-- baggage-select -->
        <div class="baggage-select">

        <div ng-repeat="(routePartNum, routePart) in vm.service.routeParts"
             ng-if="routePartNum == vm.selectedRoutePartNum">

          <div ng-repeat="(subgroupNum, subgroup) in vm.service.subgroups"
               ng-if="subgroup.type == 'COUNTABLE_MULTIPLE_SELECT'">

            <div class="baggage-select__title">
              {{ subgroup.title }}
            </div>

            <!-- baggage-select__list -->
            <div class="baggage-select__list">

              <div class="baggage-select__item"
                   ng-repeat="(itemNum, baggageItem) in vm.service.routeParts[vm.selectedRoutePartNum].availableExtraServicesByPassengersAndSubgroups[vm.selectedPassenger][subgroupNum]">

                <span class="baggage-select__name">
                  {{ baggageItem.title }}
                </span>
                <service-picker count="baggageItem.alreadySelectedCount"
                    limit="baggageItem.limit"
                    locked="vm.locked"
                    on-increase="vm.baggageCountChangeHandler(subgroupNum, baggageItem, +1, vm.selectedPassenger, vm.selectedRoutePartNum)"
                    on-decrease="vm.baggageCountChangeHandler(subgroupNum, baggageItem, -1, vm.selectedPassenger, vm.selectedRoutePartNum)">
                </service-picker>
                <span class="baggage-select__price"
                      ng-bind-html=" { value: baggageItem.price, currency: baggageItem.currency} | price"
                      ng-if="baggageItem.price">
                </span>
                <span class="baggage-select__price"
                      ng-bind-html="{ value: baggageItem.totalPrice, currency: baggageItem.currency} | price"
                      ng-if="baggageItem.totalPrice">
                </span>

              </div>

            </div>
            <!-- END baggage-select__list -->

          </div>

        </div>

        </div>
        <!-- END baggage-select -->

      </div>
    </div>
  </div>
  <!-- END drop -->
</div>
<!-- END item__i -->


<div class="item__i mobileHide">
    <div class="top">
        <div class="top__i">

            <table>
                <tbody><tr>
                    <td>
                        <div class="text">
                            <div class="iconBox" ng-click="vm.switchService()">
                                <i class="icon_luggage"></i>
                            </div>
                            <div class="name">
                                <h2>
                                    {{ 'web.extraServices.baggage.header' | aliasStatic}}
                                    <a href fancybox="popupAlias" data-popup-alias="web.extraServicesRules.baggage">
                                        <span class="infoBoxWrap">
                                            <i class="icon_info"></i>
                                            <span class="infoBox">
                                                <span class="infoBox__i">
                                                    {{ 'web.extraServices.serviceDesc' | aliasStatic}}
                                                </span>
                                            </span>
                                        </span>
                                    </a>
                                </h2>
                                <p>
                                    {{ 'web.extraServices.baggage.desc' | aliasStatic}}
                                </p>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div ng-if="vm.service.active && vm.service.editablePrice" class="price">
                            <div class="price__i">
                                <h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3>
                            </div>
                        </div>
                        <div ng-if="!vm.service.active" class="price">
                            <div class="price__i">
                                <p>
                                    {{ 'web.extraServices.minPrice' | aliasStatic}}
                                </p>
                                <h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3>
                                <p>
                                    {{ 'web.extraServices.baggage.minPriceUnit' | aliasStatic}}
                                </p>
                            </div>
                        </div>
                    </td>
                    <td>
                        <a href ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited('baggage')"
                             ng-class="{ active: vm.service.active, control_disabled: vm.locked }" class="btn showDrop_js ">
                            <span class="show">
                                {{ 'web.extraServices.baggage.select' | aliasStatic}}
                            </span>
                            <span class="hide">
                                {{ 'web.extraServices.baggage.deselect' | aliasStatic}}
                            </span>
                        </a>
                    </td>
                </tr>
            </tbody></table>

        </div>
    </div>


    <div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }">
        <div class="drop__i">

            <div class="selectBaggage mobileHide">
                <div class="selectBaggage__i">

                    <table class="passengersTable">
                        <tbody>
                            <tr class="headRow">
                                <td class="firstCol"></td>
                                <td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">
                                    {{ passenger.lastName }} {{ passenger.firstName }}
                                </td>
                            </tr>
                            <tr ng-repeat-start="(routePartNum, routePart) in vm.service.routeParts"
                                class="contentRow">
                                <td class="firstCol">
                                    <div class="date">
                                        {{ routePart.flightsInfo.date | formatDate: 'D MMMM, dd'}}
                                    </div>
                                    <div class="route">
                                        <geo-marker prefix="dep__point" key="es-baggage" city="routePart.flightsInfo.origincity"  cityname="routePart.flightsInfo.origincityName" port="routePart.flightsInfo.originport"  portname="routePart.flightsInfo.originportName"></geo-marker>
                                        <div class="route__plane">
                                            <i class="icon_plane"></i>
                                        </div>
                                        <geo-marker prefix="arr__point" key="es-baggage" city="routePart.flightsInfo.destinationcity"  cityname="routePart.flightsInfo.destinationcityName" port="routePart.flightsInfo.destinationport"  portname="routePart.flightsInfo.destinationportName"></geo-marker>
                                    </div>
                                </td>
                                <td ng-repeat="(passengerNum, availableExtraServicesBySubgroups) in routePart.availableExtraServicesByPassengersAndSubgroups"
                                    ng-class="{ active: vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum }"
                                     ng-init="selectedPassengerRoutePartBaggage = vm.getSelectedPassengerRoutePartBaggage(passengerNum, routePartNum)">
                                    <a href ng-click="vm.selectRoutePartPassenger(routePartNum, passengerNum)"
                                        class="passengersTable__link"
                                        ng-class="{ passengersTable__link_empty: !selectedPassengerRoutePartBaggage, passengersTable__link_select: (!selectedPassengerRoutePartBaggage && vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum) }">
                                        <wrap ng-if="!selectedPassengerRoutePartBaggage && (vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum)">
                                            {{ 'web.extraServices.baggage.selectItem' | aliasStatic}}
                                        </wrap>
                                        <wrap ng-if="!selectedPassengerRoutePartBaggage && !(vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum)">
                                            {{ 'web.extraServices.baggage.noneSelected' | aliasStatic}}
                                        </wrap>
                                        <wrap ng-if="selectedPassengerRoutePartBaggage">
                                            {{ selectedPassengerRoutePartBaggage.count }}
                                            {{ 'web.search.priceDetail.label.luggDescMsr.' | aliasWithPrefix:'pc' }}
                                            <span ng-bind-html=" { value: selectedPassengerRoutePartBaggage.cost, currency: selectedPassengerRoutePartBaggage.currency } | price"></span>
                                        </wrap>
                                    </a>
                                    <a ng-if="selectedPassengerRoutePartBaggage && !vm.checkServiceRemovalProhibited('baggage', passengerNum, routePart.mainFlightNum)"
                                        href ng-click="vm.removePassengerFlightBaggage(passengerNum, routePart.mainFlightNum)" class="btn-remove">
                                        <span class="infoBoxWrap">
                                            <i class="icon_remove"></i>
                                            <span class="infoBox">
                                                <span class="infoBox__i">
                                                    {{ 'web.extraServices.baggage.cancelByPassengerSegment' | aliasStatic }}
                                                </span>
                                            </span>
                                        </span>
                                    </a>
                                </td>
                            </tr>

                            <tr ng-repeat-end class="contentServiceRow">
                                <td ng-if="routePartNum == vm.selectedRoutePartNum" class="firstCol"></td>
                                <td ng-if="routePartNum == vm.selectedRoutePartNum" colspan="{{ vm.orderInfo.passengers.length }}">


                                    <div class="baggage_container">

                                        <table class="baggage_table baggage_table--free">
                                            <tbody>
                                                <tr ng-repeat="freeBaggageItem in vm.service.routeParts[vm.selectedRoutePartNum].flightsInfo.freeBaggage" ng-if="freeBaggageItem.passengerCode == vm.orderInfo.passengers[vm.selectedPassenger].categoryCode">
                                                    <td>
                                                        <span class="baggage_info baggage_info_caption free">
                                                            {{ 'web.extraServices.baggage.freeLugg' | aliasStatic}}
                                                            {{ freeBaggageItem.companyCode }}-{{ freeBaggageItem.racenumber }}
                                                        </span>
                                                    </td>
                                                    <td>
                                                        <span class="baggage_info">
                                                            {{ freeBaggageItem.luggNorm }} {{ 'web.search.priceDetail.label.luggDescMsr.' | aliasWithPrefix:freeBaggageItem.luggNormMsr }}
                                                        </span>
                                                    </td>
                                                    <td>
                                                        <span class="baggage_info free">
                                                            {{ 'web.extraServices.baggage.freeLuggPrice' | aliasStatic}}
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>


                                        <wrap ng-repeat="(subgroupNum, subgroup) in vm.service.subgroups">
                                            <wrap ng-if="subgroup.type == 'COUNTABLE_MULTIPLE_SELECT'">
                                                <table class="baggage_table">
                                                    <tr ng-repeat="(itemNum, baggageItem) in vm.service.routeParts[vm.selectedRoutePartNum].availableExtraServicesByPassengersAndSubgroups[vm.selectedPassenger][subgroupNum]" class="baggage-picker-cont">

                                                        <td>
                                                            <span class="baggage_info baggage_info_caption">
                                                                {{ baggageItem.title }}, <span ng-bind-html=" { value: baggageItem.price, currency: baggageItem.currency} | price"></span>
                                                            </span>
                                                        </td>
                                                        <td>
                                                            <service-picker count="baggageItem.alreadySelectedCount"
                                                                limit="baggageItem.limit"
                                                                locked="vm.locked"
                                                                on-increase="vm.baggageCountChangeHandler(subgroupNum, baggageItem, +1, vm.selectedPassenger, vm.selectedRoutePartNum)"
                                                                on-decrease="vm.baggageCountChangeHandler(subgroupNum, baggageItem, -1, vm.selectedPassenger, vm.selectedRoutePartNum)">
                                                            </service-picker>
                                                        </td>
                                                        <td>
                                                            <span class="baggage_info" ng-if="baggageItem.totalPrice" ng-bind-html="{ value: baggageItem.totalPrice, currency: baggageItem.currency} | price"></span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </wrap>

                                            <wrap ng-if="subgroup.type == 'SELECT'"
                                                ng-repeat="(subgroupNum, baggageSubgoupOptions) in vm.optionsByRoutePartsAndPassengers[vm.selectedRoutePartNum][vm.selectedPassenger]">
                                                <ui-select name="selectedBaggage"
                                                    ng-model="vm.selectedBaggageByRoutePartsAndPassengersView[vm.selectedRoutePartNum][vm.selectedPassenger][subgroupNum]"
                                                    ng-change="vm.changeBaggageBySelect(vm.selectedPassenger, vm.selectedRoutePartNum, subgroupNum);"
                                                    theme="selectize"
                                                    search-enabled="false"
                                                    ng-disabled="vm.locked"
                                                    required>
                                                   <ui-select-match placeholder="{{$select.selected.title || ( 'web.extraServices.baggage.noneSelected' | aliasStatic) }}">
                                                       {{$select.selected.title}}
                                                   </ui-select-match>
                                                   <ui-select-choices repeat="baggageOption.index as baggageOption in baggageSubgoupOptions">
                                                       <div>{{ baggageOption.title }}</div>
                                                   </ui-select-choices>
                                               </ui-select>

                                            </wrap>

                                        </wrap>

                                    </div>


                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="passengersTable__cancel">
                        <a href ng-click="vm.switchService()"
                            ng-if="!vm.checkServiceRemovalProhibited('baggage')"
                            class="passengersTable__link passengersTable__link_cancel">
                            {{ 'web.extraServices.baggage.cancel' | aliasStatic}}
                        </a>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>



<div class="item__i mobileShow">

	<div class="top">
    <div class="top__i">
      <a href>
        <div class="row">
          <table>
						<tbody>
              <tr>
                <td><i class="icon_luggage"></i></td>
                  <td>
                    <div class="name">
                      {{ 'web.extraServices.baggage.header' | aliasStatic}}
                      <a href fancybox="popupAlias" data-popup-alias="web.extraServicesRules.baggage">
                        <i class="icon_info"></i>
                      </a>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
				</div>
			</a>
            <div class="row">
                <a href>
                    <div ng-if="vm.service.active && vm.service.editablePrice" class="price">
                        <div class="price__i">
                            <h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3>
                        </div>
                    </div>
                    <div ng-if="!vm.service.active && vm.service.minPrice" class="price">
                        <div class="price__i">
                            <p>
                                {{ 'web.extraServices.minPrice' | aliasStatic}}
                            </p>
                            <h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3>
                            <p>
                                {{ 'web.extraServices.baggage.minPriceUnit' | aliasStatic}}
                            </p>
                        </div>
                    </div>
                </a>
                <a href ng-click="vm.switchService()"
                    ng-if="!vm.checkServiceRemovalProhibited('baggage')"
                    ng-class="{ active: vm.service.active }" class="btn showDrop_js">
                    <span class="show">
                        {{ 'web.extraServices.baggage.select' | aliasStatic}}
                    </span>
                    <span class="hide">
                        {{ 'web.extraServices.baggage.deselect' | aliasStatic}}
                    </span>
                </a>
			</div>
		</div>
	</div>


    <div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }">
        <div class="drop__i">
            <div class="baggage_container drop_mobile">
                <div class="passengersContainer">
                    <div class="passengersTableContainer" ng-class="{ one_passenger: vm.orderInfo.passengers.length == 1 }">

                        <a href ng-click="vm.scrollToEnd();" class="passengersTableContainer__control passengersTableContainer__control_next"  ng-class="{ control_disabled: !vm.canScrollRight }"></a>
                        <table class="passengersTable">
                            <tbody>
                                <tr class="headRow">
                                    <td class="firstCol">
                                        <a href ng-click="vm.scrollToStart();" class="passengersTable__control passengersTable__control_prev" ng-class="{ control_disabled: !vm.canScrollLeft }"></a>
                                    </td>
                                    <td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">
                                        {{ passenger.lastName }} {{ passenger.firstName }}
                                    </td>
                                </tr>
                                <tr ng-repeat="(routePartNum, routePart) in vm.service.routeParts" class="contentRow">
                                    <td class="firstCol">
                                        <div class="date">
                                            {{ routePart.flightsInfo.date | formatDate: 'D MMMM, dd'}}
                                        </div>
                                        <div class="route">
                                            <geo-marker prefix="dep__point" key="es-baggage" city="routePart.flightsInfo.origincity"  cityname="routePart.flightsInfo.origincityName" port="routePart.flightsInfo.originport"  portname="routePart.flightsInfo.originportName"></geo-marker>
                                            <div class="route__plane">
                                                <i class="icon_plane"></i>
                                            </div>
                                            <geo-marker prefix="arr__point" key="es-baggage" city="routePart.flightsInfo.destinationcity"  cityname="routePart.flightsInfo.destinationcityName" port="routePart.flightsInfo.destinationport"  portname="routePart.flightsInfo.destinationportName"></geo-marker>
                                        </div>
                                    </td>
                                    <td ng-repeat="(passengerNum, availableExtraServicesBySubgroups) in routePart.availableExtraServicesByPassengersAndSubgroups"
                                        ng-class="{ active: vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum }"
                                        ng-init="selectedPassengerRoutePartBaggage = vm.getSelectedPassengerRoutePartBaggage(passengerNum, routePartNum)">

                                        <a href fancybox="selectBaggage" ng-click="vm.selectRoutePartPassenger(routePartNum, passengerNum)"
                                        class="passengersTable__link"
                                        ng-class="{ passengersTable__link_empty: !selectedPassengerRoutePartBaggage, passengersTable__link_select: (!selectedPassengerRoutePartBaggage && vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum) }">
                                            <wrap ng-if="!selectedPassengerRoutePartBaggage && (vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum)">
                                                {{ 'web.extraServices.baggage.selectItem' | aliasStatic}}
                                            </wrap>
                                            <wrap ng-if="!selectedPassengerRoutePartBaggage && !(vm.selectedRoutePartNum == routePartNum && vm.selectedPassenger == passengerNum)">
                                                {{ 'web.extraServices.baggage.noneSelected' | aliasStatic}}
                                            </wrap>
                                            <wrap ng-if="selectedPassengerRoutePartBaggage">
                                                {{ selectedPassengerRoutePartBaggage.count }}
                                                {{ 'web.search.priceDetail.label.luggDescMsr.' | aliasWithPrefix:'pc' }}
                                                <span ng-bind-html=" { value: selectedPassengerRoutePartBaggage.cost, currency: selectedPassengerRoutePartBaggage.currency } | price"></span>
                                            </wrap>
                                        </a>
                                        <a ng-if="selectedPassengerRoutePartBaggage && !vm.checkServiceRemovalProhibited('baggage', passengerNum, routePart.mainFlightNum)"
                                            href ng-click="vm.removePassengerFlightBaggage(passengerNum, routePart.mainFlightNum)" class="btn-remove">
                                            <span class="infoBoxWrap">
                                                <i class="icon_remove"></i>
                                                <span class="infoBox">
                                                    <span class="infoBox__i">
                                                        {{ 'web.extraServices.baggage.cancelByPassengerSegment' | aliasStatic }}
                                                    </span>
                                                </span>
                                            </span>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
                <div class="passengersTable__cancel">
                    <a href ng-click="vm.switchService()"
                        ng-if="!vm.checkServiceRemovalProhibited('baggage')"
                        class="passengersTable__link passengersTable__link_cancel">
                        {{ 'web.extraServices.baggage.cancel' | aliasStatic}}
                    </a>
                </div>
            </div>
        </div>
    </div>

    <popup-baggage
        passenger="vm.selectedPassenger"
        route-part="vm.selectedRoutePartNum"
        order="vm.orderInfo"
        service="vm.service"
        locked="vm.locked"
        change="vm.baggageCountChangeHandler"
        remove="vm.removeByPassenger"
        options="vm.optionsByRoutePartsAndPassengers"
        selected="vm.selectedBaggageByRoutePartsAndPassengers"
        selected-view="vm.selectedBaggageByRoutePartsAndPassengersView"
        change-baggage-by-select="vm.changeBaggageBySelect">
    </popup-baggage>

</div>
