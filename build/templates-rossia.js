!function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/es-meal/es-meal.html",'<div class="item__i mobileHide item__i_test" style="display: none"><div class="top"><div class="icon" ng-class="{ not: (!vm.service.editablePrice && !vm.service.active) }"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="41" height="29" viewbox="0 0 41 29"><g><g transform="translate(-943 -1951)"><image width="41" height="29" transform="translate(943 1951)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAdCAYAAAA3i0VNAAACAElEQVRYR+2YPWgUURSFvyPxB9SksNAujaD4BxYWYidYCJZCwEQMBhJSKVhFIaKgVoKWBgwRY0CwDDaCnaSwCMQfFNKkM4VgTASTSI68ZbOsk9nszO5MdgpvO/ee88197743jMgobJ8CHgCHgS/AkKT3WcgrCxHbncBHYE+V3hJwTNJcsx5ZQd4E7sXA3JJ0vyiQd4DhGJi7km63FNJ2G3AS6AJuxMA8BF4C05L+NAqberltbwMuAN3AeWBvAvNF4DUwAUxKWktQU0lJDFmGuwSE5TuYxiSSOwuE7TGRFDYRpO1DwFPgTBNw0dJ3QJ+kr/U060LavgiMAbvriTXw/BfQK+nVZrWbQtq+BjxqwDxtyXVJj2sV1YS03Q88SevWRP6ApJG4+lhI22eBN0CY5K2KMPHnJL2NGm6AtL0P+ATs3yq6Kp954Kik79XecZBhiq+2AHDdclRSX01I20fKHwp1pz7Hl3D5w+Tzusc/MLafAz05AiSVHpd0eQOk7Q7gG7ArqVKOeb+BA5IWgkelk7bDXTyeo3Fa6R5JL6KQ4Va5klYpx/xnknqjkDPA8RxN00p/kHQiCrkCbE+rlGP+qqQdFUjb7UBpkxYsOiT9LA2O7Z3A6YIBBpwpScutPLQT90S2B4HQyaLGcoD8AYSDvKix8B8yo6UpdTL8Bin0cv8FInOaKdy3fMsAAAAASUVORK5CYII="></image></g></g></svg></div><div class="name"><h2 class="name__heading">{{ \'web.extraServices.meal.header\' | aliasStatic}} <span class="name__min-price" ng-if="vm.service.minPrice">{{ \'web.extraServices.minPrice\' | aliasStatic}} <span ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></span></span></h2><p class="name__description">{{ \'web.extraServices.meal.desc\' | aliasStatic}}</p></div><div class="info" ng-if="vm.service.editablePrice"><a class="info__close-icon" ng-if="!vm.service.active" ng-click="vm.removePassengerFlightMeal(vm.selectedPassenger, vm.selectedFlight)"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewbox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="></image></g></g></svg></a> <span class="info__text">{{ \'web.extraServices.meal.totalToPay\' | aliasStatic}}</span> <span ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></span></div><div class="buttons"><a href="" class="toggle" ng-if="vm.service.active || vm.service.editablePrice" ng-click="vm.service.active = !vm.service.active" ng-class="{ open: vm.service.active}"><span class="show">{{ \'web.extraServices.meal.show\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.meal.hide\' | aliasStatic}}</span></a> <a href="" class="btn" ng-click="vm.switchService()" ng-if="!vm.service.active && !vm.service.editablePrice">{{ \'web.extraServices.meal.selectedFood\' | aliasStatic}}</a> <a href="" class="btn done" ng-click="vm.switchService()" ng-if="!vm.service.active && vm.service.editablePrice"><span class="btn__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 28 24" version="1.1" width="15px" height="12px"><g><path d="M 22.566406 4.730469 L 20.773438 3.511719 C 20.277344 3.175781 19.597656 3.304688 19.265625 3.796875 L 10.476563 16.757813 L 6.4375 12.71875 C 6.015625 12.296875 5.328125 12.296875 4.90625 12.71875 L 3.371094 14.253906 C 2.949219 14.675781 2.949219 15.363281 3.371094 15.789063 L 9.582031 22 C 9.929688 22.347656 10.476563 22.613281 10.96875 22.613281 C 11.460938 22.613281 11.957031 22.304688 12.277344 21.839844 L 22.855469 6.234375 C 23.191406 5.742188 23.0625 5.066406 22.566406 4.730469 Z"></path></g></svg></span> {{ \'web.extraServices.meal.picked\' | aliasStatic}}</a></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="route"><div class="route__flights-panel"><div class="route__title">Выбор питания на рейсе</div><div class="route__buttons"><a ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" ng-click="vm.service.availableBySegments[flightNum] && vm.selectFlightPassenger(flightNum, 0)" ng-class="{ active: vm.selectedFlight == flightNum && vm.service.availableBySegments[flightNum] }" href="">{{ flight.origincityName }}</a></div></div><div class="route__cancel"><a href="" class="route__link-cancel" ng-click="vm.switchService()"><span class="route__icon-cancel"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewbox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="></image></g></g></svg></span> <span>{{ \'web.extraServices.meal.cancelService\' | aliasStatic }}</span></a></div></div><div class="flightsInfo"><div class="flightsInfo__way"><div class="flightsInfo__title"><span ng-if="vm.orderInfo.header.regnum">{{ vm.orderInfo.header.regnum }}</span></div><div class="flightsInfo__wrap"><div ng-repeat="(segNum, segment) in vm.orderInfo.flights" class="flightsInfo__segments"><div ng-repeat="(flightNum, flight) in segment.flights" ng-if="vm.selectedFlight == segNum"><div class="flightsInfo__segment"><div class="flightsInfo__city"><span class="flightsInfo__city-name">{{ flight.origincityName }}</span> <span class="flightsInfo__city-code">{{ flight.originport }}</span></div><div class="flightsInfo__date">в {{ flight.departuredate | formatDate: \'D MMM, dd\' }} {{ flight.departuretime }}</div></div><div class="flightsInfo__segment"><div class="flightsInfo__city"><span class="flightsInfo__city-name">{{ flight.destinationcityName }}</span> <span class="flightsInfo__city-code">{{ flight.destinationport }}</span></div><div class="flightsInfo__date">в {{ flight.arrivaldate | formatDate: \'D MMM, dd\' }} {{ flight.arrivaltime }}</div></div></div></div></div></div></div><div class="food"><div class="passengers"><div ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" ng-if="vm.service.availableBySegments[flightNum] && vm.selectedFlight == flightNum"><div ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-init="mealSelect = vm.orderInfo.groupedEditableExtraServices.meal[passengerNum][flightNum]"><div class="passenger" ng-if="passenger.hasSeats"><div class="passenger__name" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" ng-class="{ focus: passengerNum === vm.selectedPassenger, notChoice: !mealSelect && vm.service.availableByPassengerSegments[passengerNum] }">{{ passenger.lastName }} {{ passenger.firstName }}</div><div ng-if="mealSelect" class="passenger__meal" ng-repeat="(indexMealSelect, itemMealSelect) in mealSelect track by $index"><div>{{ itemMealSelect.title }}</div><div class="passenger__price"><span ng-bind-html="{ value: itemMealSelect.totalPrice, currency: itemMealSelect.currency } | price"></span> <a href="" ng-if="mealSelect" class="remove" ng-click="vm.removePassengerFlightMeal(passengerNum, flightNum)"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewbox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="></image></g></g></svg></a></div></div><div class="meal-passenger" ng-if="vm.orderInfo.groupedIssuedExtraServices.meal[passengerNum][flightNum].length" ng-repeat="issuedMealItem in vm.orderInfo.groupedIssuedExtraServices.meal[passengerNum][flightNum]"><span>{{ \'web.extraServices.\' + issuedMealItem.rfisc + \'.\' + issuedMealItem.serviceType +\'.ALL.text\' | aliasDynamic }}</span> <span class="passengersTable__segment-passengers__passenger__meals__issued">{{ \'web.serviceStatus.issued\' | aliasStatic }}</span></div></div></div></div></div><div class="food__menu"><div class="group" ng-if="vm.service.subgroups.length > 1"><div class="group__item" ng-init="vm.mealMenuSubgroup ? \'0\' : vm.mealMenuSubgroup" ng-repeat="(subgroupNum, subgroupCode) in vm.service.subgroups" ng-class="{ active: vm.mealMenuSubgroup === subgroupNum }" ng-click="vm.mealMenuSubgroup = subgroupNum"><span class="group__icon group__icon_chicken" ng-if="subgroupCode == \'chicken\'"></span> <span class="group__icon group__icon_meat" ng-if="subgroupCode == \'meat\'"></span> <span class="group__text">{{ \'web.meal.subgroup.\' | aliasWithPrefix:subgroupCode }}</span></div></div><div class="list customScroll_height customScroll_js" custom-scroll=""><div class="list__i isotopeGrid"><wrap ng-repeat="(subgroupNum, subgroup) in vm.mealMenu"><div ng-repeat="mealItem in subgroup" ng-if="vm.mealMenuSubgroup === subgroupNum || vm.mealMenuSubgroup === false" ng-class="{ active: mealItem.alreadySelectedCount > 0 }" class="item"><div class="food_wrap"><div class="img"><div class="food__counter" ng-if="mealItem.alreadySelectedCount > 0"><span class="btn__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 28 24" version="1.1" width="15px" height="12px"><g><path d="M 22.566406 4.730469 L 20.773438 3.511719 C 20.277344 3.175781 19.597656 3.304688 19.265625 3.796875 L 10.476563 16.757813 L 6.4375 12.71875 C 6.015625 12.296875 5.328125 12.296875 4.90625 12.71875 L 3.371094 14.253906 C 2.949219 14.675781 2.949219 15.363281 3.371094 15.789063 L 9.582031 22 C 9.929688 22.347656 10.476563 22.613281 10.96875 22.613281 C 11.460938 22.613281 11.957031 22.304688 12.277344 21.839844 L 22.855469 6.234375 C 23.191406 5.742188 23.0625 5.066406 22.566406 4.730469 Z"></path></g></svg></span></div><img ng-src="{{vm.mealImagesPath}}/{{ mealItem.serviceType }}-{{ mealItem.rfisc }}.jpg" alt=""></div><p class="description" ng-bind-html="mealItem.description"></p><p class="price" ng-bind-html="{ value: mealItem.price, currency: mealItem.currency } | price"></p><a href="" class="btn" ng-click="vm.mealCountChangeHandler(subgroupNum, mealItem, +1)" ng-class="{ selected: mealItem.alreadySelectedCount > 0}"><span class="not-selected" ng-if="mealItem.alreadySelectedCount === 0">{{ \'web.extraServices.meal.addServices\' | aliasStatic }}</span> <span class="selected" ng-if="mealItem.alreadySelectedCount > 0">{{ \'web.extraServices.meal.addedOrder\' | aliasStatic }}</span></a></div></div></wrap></div></div></div></div></div></div></div><div class="item__i mobileHide"><div class="top"><div class="top__i"><table><tbody><tr><td><div class="text"><div class="iconBox" ng-click="vm.switchService()"><i class="icon_meal"></i></div><div class="name"><h2>{{ \'web.extraServices.meal.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.meal"><span class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.serviceDesc\' | aliasStatic}}</span></span></span></a></h2><p>{{ \'web.extraServices.meal.desc\' | aliasStatic}}</p></div></div></td><td><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3></div></div></td><td><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'meal\')" ng-class="{ active: vm.service.active, control_disabled: vm.locked }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.meal.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.meal.deselect\' | aliasStatic}}</span></a></td></tr></tbody></table></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="foodSelect"><div class="foodSelect__i"><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat-start="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><geo-marker prefix="dep__point" key="es-meal" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker><div class="route__plane"><i class="icon_plane"></i></div><geo-marker prefix="arr__point" key="es-meal" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }" ng-init="selectedPassengerFlightMeal = vm.getSelectedPassengerFlightMeal(passengerNum, flightNum)"><wrap ng-if="vm.service.availableByPassengerSegments[passengerNum][flightNum]"><a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !selectedPassengerFlightMeal, passengersTable__link_select: (!selectedPassengerFlightMeal && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!selectedPassengerFlightMeal && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.meal.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!selectedPassengerFlightMeal && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.meal.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="selectedPassengerFlightMeal">{{ selectedPassengerFlightMeal.count }} - <span ng-bind-html="{ value: selectedPassengerFlightMeal.cost, currency: selectedPassengerFlightMeal.currency } | price"></span></wrap></a> <a ng-if="selectedPassengerFlightMeal && !vm.checkServiceRemovalProhibited(\'meal\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightMeal(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.meal.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a></wrap><wrap ng-if="vm.orderInfo.groupedIssuedExtraServices.meal[passengerNum][flightNum].length">{{ \'web.extraServices.meal.issuedMealLabel\' | aliasStatic}}<div ng-repeat="issuedMealItem in vm.orderInfo.groupedIssuedExtraServices.meal[passengerNum][flightNum]" class="issuedMealItem">{{ issuedMealItem.title }} <span class="passengersTable__priceMeal" ng-bind-html="{ value: issuedMealItem.totalPrice, currency: issuedMealItem.currency } | price"></span></div></wrap></td></tr><tr ng-repeat-end="" class="contentServiceRow"><td ng-if="flightNum == vm.selectedFlight" class="firstCol"></td><td ng-if="flightNum == vm.selectedFlight" colspan="{{ vm.orderInfo.passengers.length }}"><div class="food_container" ng-if="vm.mealMenu"><div class="food"><div class="food__i"><div ng-if="vm.service.subgroups.length > 1" class="foodSorting"><ul><li ng-class="{ active: vm.mealMenuSubgroup === false }"><a href="" ng-click="vm.mealMenuSubgroup = false">{{ \'web.meal.subgroup.\' | aliasWithPrefix:\'all\' }}</a></li><li ng-repeat="(subgroupNum, subgroupCode) in vm.service.subgroups" ng-class="{ active: vm.mealMenuSubgroup === subgroupNum }"><a href="" ng-click="vm.mealMenuSubgroup = subgroupNum">{{ \'web.meal.subgroup.\' | aliasWithPrefix:subgroupCode }}</a></li></ul></div><div class="list customScroll_height customScroll_js" custom-scroll=""><div class="list__i isotopeGrid"><wrap ng-repeat="(subgroupNum, subgroup) in vm.mealMenu"><div ng-repeat="mealItem in subgroup" ng-if="vm.mealMenuSubgroup === subgroupNum || vm.mealMenuSubgroup === false" ng-class="{ active: mealItem.active, control_disabled: vm.locked }" class="item"><div class="food_wrap"><div class="img"><img ng-src="{{vm.mealImagesPath}}/{{ mealItem.serviceType }}-{{ mealItem.rfisc }}.jpg" alt=""></div><div class="food_info"><div class="name"><p>{{ mealItem.title }}</p><p class="price" ng-bind-html="{ value: mealItem.price, currency: mealItem.currency } | price"></p></div><div class="extra-service-picker"><service-picker count="mealItem.alreadySelectedCount" limit="mealItem.limit" locked="vm.locked" on-increase="vm.mealCountChangeHandler(subgroupNum, mealItem, +1)" on-decrease="vm.mealCountChangeHandler(subgroupNum, mealItem, -1)"></service-picker></div><div class="description"><a ng-if="vm.hasAlias(\'web.extraServices.meal.ingredientsDescriptionContent.\' + mealItem.serviceType + \'.\' + mealItem.rfisc)" href="" fancybox="popupAlias" class="link link--ingredientsDescription" data-popup-alias="web.extraServices.meal.ingredientsDescriptionContent.{{mealItem.serviceType}}.{{mealItem.rfisc}}">{{ \'web.extraServices.meal.ingredientsDescriptionLabel\' | aliasStatic }}</a><p ng-bind-html="mealItem.description"></p></div></div></div></div></wrap></div></div></div></div></div></td></tr></tbody></table><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'meal\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.meal.cancel\' | aliasStatic }}</a></div></div></div></div></div></div><div class="item__i mobileShow"><div class="top"><div class="top__i"><a href=""><div class="row"><table><tbody><tr><td><i class="icon_meal"></i></td><td><div class="name">{{ \'web.extraServices.meal.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.meal"><i class="icon_info"></i></a></div></td></tr></tbody></table></div></a><div class="row"><a href=""><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3></div></div></a> <a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'meal\')" ng-class="{ active: vm.service.active }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.meal.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.meal.deselect\' | aliasStatic}}</span></a></div></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="foodSelect drop_mobile"><div class="foodSelect__i"><div class="passengersContainer"><div class="passengersTableContainer" ng-class="{ one_passenger: (vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments) == 1) }"><a href="" ng-click="vm.scrollToEnd();" class="passengersTableContainer__control passengersTableContainer__control_next" ng-class="{ control_disabled: !vm.canScrollRight }"></a><table class="passengersTable passengersTableMobile"><tbody><tr class="headRow"><td class="firstCol"><a href="" ng-click="vm.scrollToStart();" class="passengersTable__control passengersTable__control_prev" ng-class="{ control_disabled: !vm.canScrollLeft }"></a></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="vm.service.availableByPassengerSegments[passengerNum]">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" ng-if="vm.service.availableBySegments[flightNum]" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><div class="route__dep"><span class="route__dep__city">{{ flight.originport }}</span></div><div class="route__plane"><i class="icon_plane"></i></div><div class="route__arr"><span class="route__arr__city">{{ flight.destinationport }}</span></div></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="vm.service.availableByPassengerSegments[passengerNum]" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }" ng-init="selectedPassengerFlightMeal = vm.getSelectedPassengerFlightMeal(passengerNum, flightNum)"><a href="" fancybox="popupMeal" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !selectedPassengerFlightMeal, passengersTable__link_select: (!selectedPassengerFlightMeal && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!selectedPassengerFlightMeal && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.meal.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!selectedPassengerFlightMeal && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.meal.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="selectedPassengerFlightMeal">{{ selectedPassengerFlightMeal.count }} - <span ng-bind-html="{ value: selectedPassengerFlightMeal.cost, currency: selectedPassengerFlightMeal.currency } | price"></span></wrap></a> <a ng-if="selectedPassengerFlightMeal && !vm.checkServiceRemovalProhibited(\'meal\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightMeal(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.meal.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a></td></tr></tbody></table></div></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'meal\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.meal.cancel\' | aliasStatic}}</a></div></div></div></div></div><popup-meal menu="vm.mealMenu" passenger="vm.orderInfo.passengers[vm.selectedPassenger]" next-passenger="vm.orderInfo.passengers[vm.selectedPassenger + 1]" prev-passenger="vm.orderInfo.passengers[vm.selectedPassenger - 1]" switch-next="vm.selectFlightPassenger(vm.selectedFlight, vm.selectedPassenger + 1)" switch-prev="vm.selectFlightPassenger(vm.selectedFlight, vm.selectedPassenger - 1)" flight="vm.orderInfo.plainFlights[vm.selectedFlight]" handler="vm.mealCountChangeHandler" path="vm.mealImagesPath" subgroups="vm.service.subgroups"></popup-meal></div>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/es-seat/es-seat.html",'<div class="item__i mobileHide" style="display: none; margin-bottom: 50px;"><div class="top"><div class="icon" ng-class="{ not: (!vm.service.editablePrice && !vm.service.active) }"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="42" height="24" viewbox="0 0 42 24"><g><g transform="translate(-942 -2061)"><image width="42" height="24" transform="translate(942 2061)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYCAYAAACMcW/9AAAC5UlEQVRYR82XSciNURjHf3+EZCohhSyUhSmyMoUMkTFCCiUlWRgyrGRl2HzEgigJC9MChTIPmTPEwpCdoZQylYx59P86V1+v+37fvdyr76nb7d73Oef83v95hnNEjkVED2A80Bl4CVyT9DjPv9r/K7tARLQCNgMLgaaZ56+A84WPJP/+a4sIz98PGAh0A1oDD4EDkr5HRDtJH7xAMdDlCbQUgCfAuQR+sTBpfQMjogswBZgEDAPaJP+bQA1wFBgLrAJGAleARcVA+wOn05aXAlvw+QncSeCGvyHpix9aGWAWMA8YnBHIYTUbuJ2+VwN9Mgs//QM0Tdwhvd38ckgzvp8d18D7pF6LnLnsYxWXAV3zUqYoaME5IsYBu4Du/wBciaE36gVN6jrANwJLisV0JSgamMM7M6RB0DrqDgF2A73+A1xhiXfAVElXSgZN6rYE1gIO+GZVBnYZXCDp+e/yFBF9gbbA3UKm5kFERE9gb8rearC6CqyQdKTu5IoIk49Kf74B1gM7JH2r65jq37qcRlAJ4BfABmCPpK/ZCQ3qOGifeWC5DbUPcFlx8V0DuGtV2m4B24GDWXGyihpgU87q7u3Oere3StpH4DCwU5KbRINmRZ0gBvIhpJr2I3Wt/anAe6dmACNqW6T0qb7Fa7M+ItzeDlaB0nDOASeGu49r4kRgDjABaJ7WHCTpbimgBr5aoUx2Qp4CTgBnACs1OsFNTdUlyzRN0rFSQDsCF4Hef6FqAA8S2EkfLiT5gFJrEWE1vcX12VJJ20oBPQ5MLgPyUXqxS8AFSW/zxkbEUOAs4FzIsxpJK0sBvQwMz3H8DtwHXEauA5ckvS7jpayqFT0ENMkZd0TSzFJAOwGLgQHpzZ8BT92pgHvFCnA5oCkEfIzbkjPuuiSfJXKtrF5fLlzWPyIMauCsnZM0pjGBeutd6KdnoJZJ2tpoQFMIOKl8VSlstWN3ri9zjQo0wfoO5ZxwbPry1qD9Al+M6//tnygQAAAAAElFTkSuQmCC"></image></g></g></svg></div><div class="name"><h2 class="name__heading">{{ \'web.extraServices.seat.header\' | aliasStatic}} <span class="name__min-price" ng-if="vm.service.minPrice">{{ \'web.extraServices.minPrice\' | aliasStatic}} <span ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></span></span></h2><p class="name__description">{{ \'web.extraServices.seat.desc\' | aliasStatic}}</p></div><div class="info" ng-if="vm.service.editablePrice"><a class="info__close-icon" ng-if="!vm.service.active" ng-click="vm.removePassengerFlightMeal(vm.selectedPassenger, vm.selectedFlight)"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewbox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="></image></g></g></svg></a> <span class="info__text">{{ \'web.extraServices.meal.totalToPay\' | aliasStatic}}</span> <span ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></span></div><div class="buttons"><a href="" class="toggle" ng-if="vm.service.active || vm.service.editablePrice" ng-click="vm.service.active = !vm.service.active" ng-class="{ open: vm.service.active}"><span class="show">{{ \'web.extraServices.meal.show\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.meal.hide\' | aliasStatic}}</span></a> <a href="" class="btn" ng-click="vm.switchService()" ng-if="!vm.service.active && !vm.service.editablePrice">Выбрать место</a> <a href="" class="btn done" ng-click="vm.switchService()" ng-if="!vm.service.active && vm.service.editablePrice"><span class="btn__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 28 24" version="1.1" width="15px" height="12px"><g><path d="M 22.566406 4.730469 L 20.773438 3.511719 C 20.277344 3.175781 19.597656 3.304688 19.265625 3.796875 L 10.476563 16.757813 L 6.4375 12.71875 C 6.015625 12.296875 5.328125 12.296875 4.90625 12.71875 L 3.371094 14.253906 C 2.949219 14.675781 2.949219 15.363281 3.371094 15.789063 L 9.582031 22 C 9.929688 22.347656 10.476563 22.613281 10.96875 22.613281 C 11.460938 22.613281 11.957031 22.304688 12.277344 21.839844 L 22.855469 6.234375 C 23.191406 5.742188 23.0625 5.066406 22.566406 4.730469 Z"></path></g></svg></span> {{ \'web.extraServices.meal.picked\' | aliasStatic}}</a></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="route"><div class="route__flights-panel"><div class="route__title">Выбор питания на рейсе</div><div class="route__buttons"><a ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" ng-click="vm.service.availableBySegments[flightNum] && vm.selectFlightPassenger(flightNum, 0)" ng-class="{ active: vm.selectedFlight == flightNum && vm.service.availableBySegments[flightNum] }" href="">{{ flight.origincityName }}</a></div></div><div class="route__cancel"><a href="" class="route__link-cancel" ng-click="vm.switchService()"><span class="route__icon-cancel"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="20" viewbox="0 0 19 20"><g><g transform="translate(-1496 -891)"><image width="19" height="20" transform="translate(1496 891)" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAACxUlEQVQ4T5WUTUhUURTH/+fNJE9qpiAKIyjokz5p0cJFBLOQeec1FhFpQZsgKAKxlUQSjbWQggoiTBKKatWjGMrex6g19AEK2aZV0MbaRVaQCILvzok7zJPxMaLd5b3/+7vn438PYQkrn88b+Xy+vJiU6glc191GRKeIKAdgF4AGADMAPhPRKxF5wswT8bvzYKVSacXMzMx1AG0icl9EXiYSia+WZf0uFovLlVL7ABwlotMAHpimeTmTyehHKmsONjg4uD6ZTHoAxpRSF3O53J+F0ioWi2uVUreJaJOIHLZt++cczPO8NIBxIupn5luL1SY6933/GgA2TfOAjrASme/7AwDKzHx2qaAa4FMA35i5i3zf3w7gnYhstW37bxX+GMAjZn4dhwdBcARA1rKs8/rM87w1RPQlDMO9FARBj4gsY+ZL0UXXdQ8ahvEcwIlaoAbpxhiGYWez2U+RPgiCPhH5qiMbB9DBzKO1UVSBzwCc1MCFQNVMbBG5oGGTIrIj6kg9IBHdE5Fz8Ygi7dDQ0FallKdhwsx1zVt99QqAPIBOZr5Tr0GFQmGVaZoTGjYtIuui4teKo9SI6KqIaGgl5TjQdd2NhmF80LBREem2bftNPVCUWryGMe0xETlDnud1A2iybbujxjuHAQzEaxQBiajdsqxSjV5baYyGh4c3hGH4UUR2R03wff+uYRgPa9sfs01Om1TvVe+Ph2G4M/oBNwBsZOb2//kBjuMkUqmUC+AtM/dWYI7jNKbT6ZKIvLcsq4uIZDGonnHNzc39IrLZNM1sJpMJ5ywxMjKyenZ2tkBEvxKJRGdLS8v3hYBBEGwpl8t9RKREpD1ywjx/OY7TkEqleojonIi8APBCKfUlmUz+IKKV5XJ5f3WesYjcnJqa6m1ra1PRowtN2iYiOk5EhwDsAdAIYFpPWgAvwzB83traOhmP/B+Al3B/w3iTlgAAAABJRU5ErkJggg=="></image></g></g></svg></span> <span>{{ \'web.extraServices.meal.cancelService\' | aliasStatic }}</span></a></div></div><div class="flightsInfo"><div class="flightsInfo__way"><div class="flightsInfo__title"><span ng-if="vm.orderInfo.header.regnum">{{ vm.orderInfo.header.regnum }}</span></div><div class="flightsInfo__wrap"><div ng-repeat="(segNum, segment) in vm.orderInfo.flights" class="flightsInfo__segments"><div ng-repeat="(flightNum, flight) in segment.flights" ng-if="vm.selectedFlight == segNum"><div class="flightsInfo__segment"><div class="flightsInfo__city"><span class="flightsInfo__city-name">{{ flight.origincityName }}</span> <span class="flightsInfo__city-code">{{ flight.originport }}</span></div><div class="flightsInfo__date">в {{ flight.departuredate | formatDate: \'D MMM, dd\' }} {{ flight.departuretime }}</div></div><div class="flightsInfo__segment"><div class="flightsInfo__city"><span class="flightsInfo__city-name">{{ flight.destinationcityName }}</span> <span class="flightsInfo__city-code">{{ flight.destinationport }}</span></div><div class="flightsInfo__date">в {{ flight.arrivaldate | formatDate: \'D MMM, dd\' }} {{ flight.arrivaltime }}</div></div></div></div></div></div></div><div class="seatBlock"><div class="seatBlock__inner"><div class="passengers"><div class="passengers__title">Пассажиры</div><div ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" ng-if="vm.service.availableBySegments[flightNum] && vm.selectedFlight == flightNum"><div ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers"><div class="passenger" ng-if="passenger.hasSeats"><div class="passenger__name" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" ng-class="{ focus: passengerNum === vm.selectedPassenger, notChoice: !mealSelect && vm.service.availableByPassengerSegments[passengerNum] }">{{ passenger.lastName }} {{ passenger.firstName }}</div></div></div></div><div class="infoSeat" ng-if="!vm.loadingSeatMap && vm.seatMap"><div class="infoSeat__title">Категории мест</div><div class="infoSeat__list"><div class="infoSeat__item infoSeat__item_free"><div class="infoSeat__lable"></div><div class="infoSeat__text">{{ \'web.extraServices.seat.free\' | aliasStatic}}</div></div></div></div></div><div class="seatSelect"><div ng-if="vm.loadingSeatMap" class="seat-map-loader" ng-bind-html="\'web.extraServices.seat.loader\' | aliasStatic"></div><div ng-if="vm.seatMapError" class="seat-map-error">{{ vm.seatMapError | aliasDynamic }}</div><div ng-if="vm.modifyError" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p ng-bind-html="vm.modifyError | aliasDynamic"></p></div></div><div ng-if="!vm.loadingSeatMap && vm.seatMap" id="seatMapCont" class="mobileHide customScroll_height-seat customScroll_js" custom-scroll=""><seat-map map="vm.seatMap" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" set="vm.setPassengerFlightSeat"></seat-map></div></div></div><div class="seatBlock__footer"><p>Обращаем внимание!</p><p>Авиакомпания оставляет за собой право замены воздушного судна.</p><p>В случае замены воздушного судна, пассажирам, оплатившим услугу &#171;выбор места&#187; будут предоставлены места в самолете, аналогичные по цене и комфортности с сохранением следующих параметров:</p><ul><li>Стоимость услуги;</li><li>Расположение места относительно окна/прохода;</li><li>Совместная рассадка, если таковая была выбрана изначально;</li><li>Размещение в первом ряду салона, если таковое было выбрано изначально.</li></ul><p><a href="" class="seatBlock__link">Подробные условия предоставления услуги</a></p></div></div><div class="seatSelect"><div class="seatSelect__i"><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat-start="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><geo-marker prefix="dep__point" key="es-seat" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker><div class="route__plane"><i class="icon_plane"></i></div><geo-marker prefix="arr__point" key="es-seat" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }"><wrap ng-if="vm.service.availableByPassengerSegments[passengerNum][flightNum]"><a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum], passengersTable__link_select: (!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></a> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span> <a ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightSeat(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.seat.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a><div ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil" class="passengersTable__reservedUntil"><span class="reservedUntil__label">{{ \'web.extraServices.seat.reservedUntil\' | aliasStatic}}</span> <span class="reservedUntil__value">{{vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil}}</span></div></wrap><wrap ng-if="!vm.service.availableByPassengerSegments[passengerNum][flightNum] && !passenger.hasSeats">{{ \'web.extraServices.seat.selectUnavailable\' | aliasStatic}}</wrap><wrap ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]">{{ \'web.extraServices.seat.issuedSeatLabel\' | aliasStatic}} <a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link">{{ vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].value }}</a> <span ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span></wrap></td></tr><tr ng-repeat-end="" class="contentServiceRow"><td ng-if="flightNum == vm.selectedFlight" class="firstCol"></td><td ng-if="flightNum == vm.selectedFlight" colspan="{{ vm.orderInfo.passengers.length }}"><div class="col"><div class="info"><div class="info__i"><p class="sun">{{ vm.sunInfoByFlights[vm.selectedFlight] }}</p><div ng-if="!vm.loadingSeatMap && vm.seatMap" class="seatInfo"><ul><li class="free"><span></span> {{ \'web.extraServices.seat.free\' | aliasStatic}}</li><li class="selected"><span></span> {{ \'web.extraServices.seat.selected\' | aliasStatic}}</li><li class="selectedByOrderPassenger" ng-if="vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments) > 1"><span></span> {{ \'web.extraServices.seat.selectedByOrderPassenger\' | aliasStatic}}</li><li class="disabled"><span></span> {{ \'web.extraServices.seat.disabled\' | aliasStatic}}</li><li ng-if="vm.seatMap.hasAutoAssignedSeat && vm.seatMap.hasFreeAndAutoAssignedSeat" class="seat-auto-assigned"><span></span> {{ \'web.extraServices.seat.freeAndAutoAssignedSeat\' | aliasStatic}}</li><li ng-if="vm.seatMap.hasAutoAssignedSeat && !vm.seatMap.hasFreeAndAutoAssignedSeat" class="seat-auto-assigned"><span></span> {{ \'web.extraServices.seat.autoAssignedSeat\' | aliasStatic}}</li><li ng-repeat="svc in vm.seatMap.svcs track by $index" class="rfiscs-seat-label"><span class="color-marker seat-rfisc-{{ svc.rfisc }} seat-map-color-group-{{ svc.index }}"></span> <span class="rfiscs-seat-label-cost" ng-bind-html="{ value: svc.cost, currency: svc.currency } | price"></span> <span ng-if="\'extraServices.showSeatMapLegendTitleLabel\' | param" class="rfiscs-seat-label-title">{{ svc.title }}</span> <span ng-if="\'extraServices.showSeatMapLegendDescriptionLabel\' | param" class="rfiscs-seat-label-description" ng-bind-html="svc.description | aliasDynamic"></span></li><wrap ng-if="vm.hasAlias(\'web.extraServices.seat.customLabels\')" ng-bind-html="\'web.extraServices.seat.customLabels\' | aliasStatic"></wrap></ul></div></div></div></div><div ng-if="vm.loadingSeatMap" class="seat-map-loader" ng-bind-html="\'web.extraServices.seat.loader\' | aliasStatic"></div><div ng-if="vm.seatMapError" class="seat-map-error">{{ vm.seatMapError | aliasDynamic }}</div><div ng-if="vm.modifyError" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p ng-bind-html="vm.modifyError | aliasDynamic"></p></div></div><div ng-if="!vm.loadingSeatMap && vm.seatMap" id="seatMapCont" class="col mobileHide customScroll_height customScroll_js" custom-scroll=""><seat-map map="vm.seatMap" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" set="vm.setPassengerFlightSeat"></seat-map></div></td></tr></tbody></table><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><div class="item__i mobileHide"><div class="top"><div class="top__i"><table><tbody><tr><td><div class="text"><div class="iconBox" ng-click="vm.switchService()"><i class="icon_seat-reservation"></i></div><div class="name"><h2>{{ \'web.extraServices.seat.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.seat"><span class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.serviceDesc\' | aliasStatic}}</span></span></span></a></h2><p>{{ \'web.extraServices.seat.desc\' | aliasStatic}}</p></div></div></td><td><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3><p>{{ \'web.extraServices.seat.minPriceUnit\' | aliasStatic}}</p></div></div></td><td><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" ng-class="{ active: vm.service.active, control_disabled: vm.locked }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.seat.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.seat.deselect\' | aliasStatic}}</span></a></td></tr></tbody></table></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="seatSelect"><div class="seatSelect__i"><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat-start="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><geo-marker prefix="dep__point" key="es-seat" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker><div class="route__plane"><i class="icon_plane"></i></div><geo-marker prefix="arr__point" key="es-seat" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }"><wrap ng-if="vm.service.availableByPassengerSegments[passengerNum][flightNum]"><a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum], passengersTable__link_select: (!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></a> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span> <a ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightSeat(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.seat.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a><div ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil" class="passengersTable__reservedUntil"><span class="reservedUntil__label">{{ \'web.extraServices.seat.reservedUntil\' | aliasStatic}}</span> <span class="reservedUntil__value">{{vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil}}</span></div></wrap><wrap ng-if="!vm.service.availableByPassengerSegments[passengerNum][flightNum] && !passenger.hasSeats">{{ \'web.extraServices.seat.selectUnavailable\' | aliasStatic}}</wrap><wrap ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]">{{ \'web.extraServices.seat.issuedSeatLabel\' | aliasStatic}} <a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link">{{ vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].value }}</a> <span ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span></wrap></td></tr><tr ng-repeat-end="" class="contentServiceRow"><td ng-if="flightNum == vm.selectedFlight" class="firstCol"></td><td ng-if="flightNum == vm.selectedFlight" colspan="{{ vm.orderInfo.passengers.length }}"><div class="col"><div class="info"><div class="info__i"><p class="sun">{{ vm.sunInfoByFlights[vm.selectedFlight] }}</p><div ng-if="!vm.loadingSeatMap && vm.seatMap" class="seatInfo"><ul><li class="free"><span></span> {{ \'web.extraServices.seat.free\' | aliasStatic}}</li><li class="selected"><span></span> {{ \'web.extraServices.seat.selected\' | aliasStatic}}</li><li class="selectedByOrderPassenger" ng-if="vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments) > 1"><span></span> {{ \'web.extraServices.seat.selectedByOrderPassenger\' | aliasStatic}}</li><li class="disabled"><span></span> {{ \'web.extraServices.seat.disabled\' | aliasStatic}}</li><li ng-if="vm.seatMap.hasAutoAssignedSeat && vm.seatMap.hasFreeAndAutoAssignedSeat" class="seat-auto-assigned"><span></span> {{ \'web.extraServices.seat.freeAndAutoAssignedSeat\' | aliasStatic}}</li><li ng-if="vm.seatMap.hasAutoAssignedSeat && !vm.seatMap.hasFreeAndAutoAssignedSeat" class="seat-auto-assigned"><span></span> {{ \'web.extraServices.seat.autoAssignedSeat\' | aliasStatic}}</li><li ng-repeat="svc in vm.seatMap.svcs track by $index" class="rfiscs-seat-label"><span class="color-marker seat-rfisc-{{ svc.rfisc }} seat-map-color-group-{{ svc.index }}"></span> <span class="rfiscs-seat-label-cost" ng-bind-html="{ value: svc.cost, currency: svc.currency } | price"></span> <span ng-if="\'extraServices.showSeatMapLegendTitleLabel\' | param" class="rfiscs-seat-label-title">{{ svc.title }}</span> <span ng-if="\'extraServices.showSeatMapLegendDescriptionLabel\' | param" class="rfiscs-seat-label-description" ng-bind-html="svc.description | aliasDynamic"></span></li><wrap ng-if="vm.hasAlias(\'web.extraServices.seat.customLabels\')" ng-bind-html="\'web.extraServices.seat.customLabels\' | aliasStatic"></wrap></ul></div></div></div></div><div ng-if="vm.loadingSeatMap" class="seat-map-loader" ng-bind-html="\'web.extraServices.seat.loader\' | aliasStatic"></div><div ng-if="vm.seatMapError" class="seat-map-error">{{ vm.seatMapError | aliasDynamic }}</div><div ng-if="vm.modifyError" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p ng-bind-html="vm.modifyError | aliasDynamic"></p></div></div><div ng-if="!vm.loadingSeatMap && vm.seatMap" id="seatMapCont" class="col mobileHide customScroll_height customScroll_js" custom-scroll=""><seat-map map="vm.seatMap" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" set="vm.setPassengerFlightSeat"></seat-map></div></td></tr></tbody></table><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><div class="item__i mobileShow"><div class="top"><div class="top__i"><a href=""><div class="row"><table><tbody><tr><td><i class="icon_seat"></i></td><td><div class="name">{{ \'web.extraServices.seat.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.seat"><i class="icon_info"></i></a></div></td></tr></tbody></table></div></a><div class="row"><a href=""><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3><p>{{ \'web.extraServices.seat.minPriceUnit\' | aliasStatic}}</p></div></div></a> <a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" ng-class="{ active: vm.service.active }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.seat.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.seat.deselect\' | aliasStatic}}</span></a></div></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="seatSelect drop_mobile"><div class="seatSelect__i"><div class="passengersContainer"><div class="passengersTableContainer" ng-class="{ one_passenger: vm.getAvailablePassengersCountWrap(vm.service.availableByPassengerSegments) == 1 }"><a href="" ng-click="vm.scrollToEnd();" class="passengersTableContainer__control passengersTableContainer__control_next" ng-class="{ control_disabled: !vm.canScrollRight }"></a><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"><a href="" ng-click="vm.scrollToStart();" class="passengersTable__control passengersTable__control_prev" ng-class="{ control_disabled: !vm.canScrollLeft }"></a></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><div class="route__dep"><span class="route__dep__city">{{ flight.originport || flight.origincity }}</span></div><div class="route__plane"><i class="icon_plane"></i></div><div class="route__arr"><span class="route__arr__city">{{ flight.destinationport || flight.destinationcity }}</span></div></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }"><wrap ng-if="vm.service.availableByPassengerSegments[passengerNum][flightNum]"><a href="" fancybox="popupSeat" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum], passengersTable__link_select: (!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></a> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span> <a ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightSeat(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.seat.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a><div ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil" class="passengersTable__reservedUntil"><span class="reservedUntil__label">{{ \'web.extraServices.seat.reservedUntil\' | aliasStatic}}</span> <span class="reservedUntil__value">{{vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil}}</span></div></wrap><wrap ng-if="!vm.service.availableByPassengerSegments[passengerNum][flightNum] && !passenger.hasSeats">{{ \'web.extraServices.seat.selectUnavailable\' | aliasStatic}}</wrap><wrap ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]">{{ \'web.extraServices.seat.issuedSeatLabel\' | aliasStatic}} <a href="" fancybox="popupSeat" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link">{{ vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].value }}</a> <span ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span></wrap></td></tr></tbody></table></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><popup-seat map="vm.seatMap" sun="vm.sunInfoByFlights[vm.selectedFlight]" order="vm.orderInfo" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" select-handler="vm.setPassengerFlightSeat" remove-handler="vm.removePassengerFlightSeat" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" items="vm.service.itemsByPassengerSegments" available-passengers-count="vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments)" subgroups="vm.service.subgroups"></popup-seat></div>');
}])}();